#! /usr/bin/env python

from __future__ import print_function

import os, sys
from glob import glob
try:
    from distutils.core import setup
    from distutils.extension import Extension
except ImportError:
    try:
        from setuptools import setup, Extension
    except ImportError:
        print("setuptools or distutils required for Python lhapdf module build+install")
        sys.exit(1)

incdir_src = os.path.abspath("@top_srcdir@/include")
incdir_build = os.path.abspath("@top_builddir@/include")
libdir = os.path.abspath("@top_builddir@/src/.libs")

## Configure the C++ extension
ext = Extension("lhapdf",
                ["lhapdf.cpp"],
                include_dirs=[incdir_src, incdir_build],
                extra_compile_args=["-I@prefix@/include"],
                library_dirs=[libdir],
                language="C++",
                libraries=["stdc++", "LHAPDF"])

## Configure the Python package
setup(name="LHAPDF",
      version="@PACKAGE_VERSION@",
      description="The LHAPDF parton density evaluation library",
      author="LHAPDF Collaboration",
      author_email="lhapdf-dev@cern.ch",
      url="https://lhapdf.hepforge.org/",
      long_description="",
      long_description_content_type="text/plain",
      license="GPLv3",
      ext_modules=[ext])
